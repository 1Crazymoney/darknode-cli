name: install script
on: [push]
jobs:
    bash:
        runs-on: ${{ matrix.os }}
        strategy:
            matrix:
                os: [ubuntu-latest, macos-latest]
        steps:
            - name: Check out code
              uses: actions/checkout@v2
            - name: Test installation script
              run:  cat ./artifacts/install.sh | sh
            - name: Check binary is properly installed
              run: command -v darknode
    zsh:
        runs-on: ${{ matrix.os }}
        strategy:
            matrix:
                os: [ubuntu-latest, macos-latest]
        steps:
            - name: Check out code
              uses: actions/checkout@v2
            - name: Install zsh
              if: runner.os == 'Linux'
              run: |
                  sudo apt-get update
                  sudo apt-get install zsh
            - name: Test installation script
              shell: zsh {0}
              run: cat ./artifacts/install.sh | sh
            - name: Check binary is properly installed
              shell: zsh {0}
              run: command -v darknode

